import{m as u,j as e,o as p,u as f,N as y,a as h,r as _,b as m,l as g,c as d,F as v,d as c,O as L,A as R,e as O,B as w,R as E,f as l,g as P,h as x}from"./vendor.80033e80.js";function T(){import("data:text/javascript,")}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function o(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(t){if(t.ep)return;t.ep=!0;const n=o(t);fetch(t.href,n)}})();function A(){const{route:r}=u(o=>[o.route]);return e(p,{level:1,children:r==="authenticated"?"FIRST PROTECTED ROUTE!":"Loading..."})}function N({children:r}){const i=f(),{route:o}=u(a=>[a.route]);return o!=="authenticated"?e(y,{to:"/login",state:{from:i},replace:!0}):r}function b(){var t,n;const{route:r}=u(s=>[s.route]),i=f(),o=h();let a=((n=(t=i.state)==null?void 0:t.from)==null?void 0:n.pathname)||"/";return _.exports.useEffect(()=>{r==="authenticated"&&o(a,{replace:!0})},[r,o,a]),e(m,{className:"auth-wrapper",children:e(g,{})})}function q(){return e(p,{level:3,children:"Please use the buttons at the top to test out protected routes!"})}function j(){const{route:r,signOut:i}=u(t=>[t.route,t.signOut]),o=h();function a(){i(),o("/login")}return d(v,{children:[d("nav",{children:[e(c,{onClick:()=>o("/"),children:"Home"}),e(c,{onClick:()=>o("/protected"),children:"First Protected Route"}),r!=="authenticated"?e(c,{onClick:()=>o("/login"),children:"Login"}):e(c,{onClick:()=>a(),children:"Logout"})]}),e(p,{level:1,children:"Example Auth Routes App"}),e(m,{children:r==="authenticated"?"You are logged in!":"Please Login!"}),e(L,{})]})}const C={aws_project_region:"us-east-1",aws_appsync_graphqlEndpoint:"https://yamnsvfltnaexmq5ireojxat4i.appsync-api.us-east-1.amazonaws.com/graphql",aws_appsync_region:"us-east-1",aws_appsync_authenticationType:"API_KEY",aws_appsync_apiKey:"da2-fdtquudle5ctpi4lce2a3eyase"};R.configure(C);function F(){return e(O,{children:e(g.Provider,{children:e(w,{children:e(E,{children:d(l,{path:"/",element:e(j,{}),children:[e(l,{index:!0,element:e(q,{})}),e(l,{path:"/protected",element:e(N,{children:e(A,{})})}),e(l,{path:"/login",element:e(b,{})})]})})})})})}P.createRoot(document.getElementById("root")).render(e(x.StrictMode,{children:e(F,{})}));export{T as __vite_legacy_guard};
